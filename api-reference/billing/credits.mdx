---
title: 'Get Credits Balance'
description: 'Check your current credit balance'
---

## GET /billing/credits

Retrieve your current credit balance and pending transactions.

### Headers

<ParamField header="Authorization" type="string" required>
  Bearer token or API key authentication
</ParamField>

### Response

<ResponseField name="available_credits" type="number">
  Current available credit balance in USD
</ResponseField>

<ResponseField name="pending_charges" type="number">
  Pending charges not yet deducted
</ResponseField>

<ResponseField name="total_balance" type="number">
  Total balance including pending charges
</ResponseField>

<ResponseField name="currency" type="string">
  Currency code (USD)
</ResponseField>

<RequestExample>

```bash cURL
curl -X GET https://api.lyceum.cloud/api/v2/external/billing/credits \
  -H "Authorization: Bearer YOUR_TOKEN"
```

```python Python
import requests

response = requests.get(
    "https://api.lyceum.cloud/api/v2/external/billing/credits",
    headers={"Authorization": "Bearer YOUR_TOKEN"}
)
```

</RequestExample>

<ResponseExample>

```json 200
{
  "available_credits": 150.50,
  "pending_charges": 5.25,
  "total_balance": 145.25,
  "currency": "USD"
}
```

</ResponseExample>

---

## POST /billing/checkout

Create a Stripe checkout session to purchase credits.

### Headers

<ParamField header="Authorization" type="string" required>
  Bearer token or API key authentication
</ParamField>

### Body

<ParamField body="amount" type="number" required>
  Amount to add in USD (minimum $10)
</ParamField>

<ParamField body="success_url" type="string">
  URL to redirect after successful payment
</ParamField>

<ParamField body="cancel_url" type="string">
  URL to redirect if payment is cancelled
</ParamField>

### Response

<ResponseField name="checkout_url" type="string">
  Stripe checkout session URL
</ResponseField>

<ResponseField name="session_id" type="string">
  Stripe session identifier
</ResponseField>

<ResponseField name="expires_at" type="string">
  Session expiration timestamp
</ResponseField>

<RequestExample>

```bash cURL
curl -X POST https://api.lyceum.cloud/api/v2/external/billing/checkout \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "amount": 50.00,
    "success_url": "https://app.lyceum.cloud/billing/success",
    "cancel_url": "https://app.lyceum.cloud/billing"
  }'
```

```python Python
import requests

response = requests.post(
    "https://api.lyceum.cloud/api/v2/external/billing/checkout",
    headers={"Authorization": "Bearer YOUR_TOKEN"},
    json={
        "amount": 50.00,
        "success_url": "https://app.lyceum.cloud/billing/success",
        "cancel_url": "https://app.lyceum.cloud/billing"
    }
)
```

</RequestExample>

<ResponseExample>

```json 200
{
  "checkout_url": "https://checkout.stripe.com/c/pay/cs_live_abc123",
  "session_id": "cs_live_abc123",
  "expires_at": "2024-01-01T01:00:00Z"
}
```

</ResponseExample>